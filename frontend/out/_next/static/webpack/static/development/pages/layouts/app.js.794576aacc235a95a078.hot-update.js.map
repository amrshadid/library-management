{"version":3,"file":"static/webpack/static\\development\\pages\\layouts\\app.js.794576aacc235a95a078.hot-update.js","sources":["webpack:///./node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack:///./pages/layouts/app.js"],"sourcesContent":["var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.15.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n};\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","import React, { useState, useEffect } from \"react\";\nimport \"../../public/assets/scss/app.css\";\nimport { CardElement, useElements, Elements,useStripe } from \"@stripe/react-stripe-js\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Router from \"next/router\";\nimport Head from \"next/head\";\n// import Custom Components\nimport Header from \"../../containers/common/header\";\nimport FooterSection from \"./sections/agency/footer\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nconst stripePromise = loadStripe(\n  \"pk_test_51Ihg5PKaeSTNPk3vq2GCVZ9hjkjGTlYRyGY0pVCWFJWcQ1AIBhMA1d5dK3Vp3dGdFs89SIbPkY0s6cuDWmx4yH0b00fXvu7XbF\"\n);\nimport Slider from \"react-slick\";\nimport { Container, Row, Col } from \"reactstrap\";\nimport baseApiURL from \"../../constant/api\";\n\nconst App = () => {\n  const [error, setError] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  var planSelected = \"CU\";\n  useEffect(() => {\n    window.scrollBy(0, -1000);\n  }, []);\n  // Handle real-time validation errors from the card Element.\n  const handleChange = (event) => {\n    if (event.error) {\n      setError(event.error.message);\n    } else {\n      setError(null);\n    }\n  };\n  var elements = \"\";\n  var stripe = \"\";\n  const MyCom = () => {\n    stripe = useStripe();\n    elements = useElements();\n    return (\n      <form\n        onSubmit={handleSubmit}\n        className=\"stripe-form\"\n        style={{ width: \"auto\" }}\n      >\n        <div className=\"form-row\">\n          <label htmlFor=\"email\">Email Address</label>\n          <input\n            className=\"form-input\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"jenny.rosen@example.com\"\n            required\n          />\n        </div>\n        <div className=\"form-row\">\n          <label htmlFor=\"card-element\">Credit or debit card</label>\n\n          <CardElement id=\"card-element\" onChange={handleChange} />\n          <div className=\"card-errors\" role=\"alert\">\n            {error}\n          </div>\n        </div>\n        <div className=\"form-row\">\n          <label htmlFor=\"Coupn Code\">Discount Coupon</label>\n          <input\n            className=\"form-input\"\n            id=\"couponCode\"\n            name=\"couponCode\"\n            type=\"text\"\n            placeholder=\"XXXXXXXXXXX\"\n          />\n        </div>\n        <div className=\"text-center\">\n          <input\n            type=\"submit\"\n            className=\"btn btn-default primary-btn event-btn m-0-auto\"\n            value=\"Submit Payment\"\n          />\n        </div>\n      </form>\n    );\n  };\n\n  // Handle form submission.\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const card = elements.getElement(CardElement);\n    const { paymentMethod, error } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: card,\n    });\n    const formData = new FormData(event.target);\n    if (localStorage.getItem(\"requestedPlan\") != null) {\n      planSelected = localStorage.getItem(\"requestedPlan\");\n    }\n    formData.append(\"payment_method_id\", paymentMethod);\n    formData.append(\"token\", localStorage.getItem(\"hoarTemplatetoken\"));\n    formData.append(\"plan\", planSelected);\n    if (error) {\n      setError(error.response.data);\n    } else {\n      axios({\n        method: \"post\",\n        url: baseApiURL + \"payment/save_stripe_info/\",\n        data: formData,\n      })\n        .then(function (response) {\n          \n          if (response.data.status === 1) {\n            toast.success(response.data.message);\n            var x = JSON.parse(localStorage.getItem(\"userInfo\"));\n            x[\"plan\"] = localStorage.getItem(\"requestedPlan\");\n            if (localStorage.getItem(\"requestedPlan\") === \"CU\") {\n              x[\"is_aou\"] = true;\n            }\n            localStorage.setItem(\"userInfo\", JSON.stringify(x));\n            localStorage.setItem(\"requestedPlan\", \"\");\n            Router.push(\"/\");\n          } else {\n            toast.error(response.data.message);\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n  };\n  const createOptions = (fontSize, padding) => {\n    return {\n      style: {\n        base: {\n          width: 100,\n        },\n      },\n    };\n  };\n  return (\n    <>\n      <Head>\n        <title>Library Management </title>\n        <meta name=\"Category Layout\" content=\"\" />\n      </Head>\n      <Header className=\"agency\" />\n      <section className=\"agency pricing price-bg\" id=\"plan\">\n        <Container>\n          <Row>\n            <Col md=\"4\">\n              <Slider className=\"owl-carousel owl-theme pricing-slider price-margin\">\n                <div className=\"item\">\n                  <div className=\"price-container shadows\">\n                    <div className=\"price-feature-container mb-3\">\n                      <div className=\"feature-text\">\n                        <h3 className=\"\">Billing Details</h3>\n                        <hr className=\"set-border\" />\n                      </div>\n                      <div className=\"price-features font-primary\">\n                        <ul>\n                          <li>\n                            <h5>\n                              Association Name :{\" \"}\n                              {typeof window !== \"undefined\"\n                                ? JSON.parse(localStorage.getItem(\"userInfo\"))\n                                    .association_name\n                                : null}\n                            </h5>\n                          </li>\n                          <br></br>\n                          <li>\n                            <h5>\n                              Email :{\" \"}\n                              {typeof window !== \"undefined\"\n                                ? JSON.parse(localStorage.getItem(\"userInfo\"))\n                                    .email\n                                : null}\n                            </h5>\n                          </li>\n                          <br></br>\n                          <li>\n                            <h5>\n                              Contact No. :{\" \"}\n                              {typeof window !== \"undefined\"\n                                ? JSON.parse(localStorage.getItem(\"userInfo\"))\n                                    .contact_no\n                                : null}\n                            </h5>\n                          </li>\n                          <br></br>\n                          <li>\n                            <h5>\n                              Requested Plan :{\" \"}\n                              {typeof window !== \"undefined\"\n                                ? localStorage.getItem(\"requestedPlan\")\n                                : null}\n                            </h5>\n                          </li>\n                        </ul>\n                      </div>\n                      <div className=\"price-value\">\n                        {typeof window !== \"undefined\" ? (\n                          localStorage.getItem(\"requestedPlan\") === \"SU\" ? (\n                            <h6 className=\"price\">\n                              $<span className=\"large\">169</span>/1st Year\n                            </h6>\n                          ) : (\n                            <h6 className=\"price\">\n                              $<span className=\"large\">199</span>/1st Year\n                            </h6>\n                          )\n                        ) : null}\n                      </div>\n\n                      <button\n                        className=\"btn btn-default btn-white\"\n                        onClick={() => Router.push(\"/layouts/pricing\")}\n                      >\n                        Change Plan\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </Slider>\n            </Col>\n            <Col sm=\"12\" md=\"8\" className=\"mt-1\">\n              <Slider className=\"owl-carousel owl-theme pricing-slider price-margin\">\n                <div className=\"item\">\n                  <div className=\"price-container shadows\">\n                    <div className=\"price-feature-container mb-3\">\n                      <Elements stripe={stripePromise}>\n                        <MyCom />\n                      </Elements>\n                    </div>\n                  </div>\n                </div>\n              </Slider>\n            </Col>\n          </Row>\n        </Container>\n        <FooterSection />\n      </section>\n    </>\n  );\n};\nexport default App;\n"],"mappings":";;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;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","sourceRoot":""}